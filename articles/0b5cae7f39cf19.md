---
title: "【React基礎】JSXでオブジェクトやスタイルを扱う時のルールを理解しよう"
emoji: "📘"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["React", "初心者", "フロントエンド"]
published: false
---

# 1.はじめに

前回と前々回の記事でJSXの内容に軽く触れてきました。

再度言いますが、JSXはHTMLのように見えますが、JavaScriptの拡張構文です。

そのため、JSX内でJavaScriptのオブジェクトやスタイルを扱うことができます。

今回は、どのようにしてJSXの中でJavaScriptのオブジェクトを使うのかを解説します！
（私が普段使用している環境がTypeScriptなので、厳密にいうとJSXではなく、TSXについての記事です）

# 2.テキストとしてJavaScriptを使う

変数や式をタグの中（`<h1>...</h1>`など）で変数や計算式を扱うには、波括弧`{}`を使うことで用いることができます。

以下、具体例です。

```ts
export default function App() {
    const name = "hello";

    return <h1>My name is {name}!</h1>
}
```

また、変数だけでなく関数についても変数と同様に波括弧`{}`の中に記述することで使用することができます。

これについては2パターン存在し、1つは先ほどの変数を用いてテキストのように使用する**返り値を持つ関数**パターンと**関数の副作用を伴う**パターンの2種類存在します。

順にみていきます。

1つ目の返り値のみの純粋な関数は以下のようなものとなります。

```ts
function greet(text: string) {
    const greetingText = "Hi!" + text;

    return greetingText;
}

export default function App() {
    const text = "hello";

    return (
        <h1>{greet(text)}</h1>
    )
}
```

2つ目の副作用を伴う関数というのは、主にボタンなどの`onClick`に適用させる関数などで使用する場面が多いです。

```ts
function handleClick() {
    alert("ボタンがクリックされました！");
}

export default function App() {
    return (
        <button onClick={handleClick}>
            button
        </button>
    )
}
```

:::message
なぜ純粋関数では`()`を付けて呼び出したのに、副作用を伴う関数では`()`を付けないのでしょうか？

これは、括弧`()`を付けて呼び出してしまうと、**レンダリングされた瞬間に即時実行されてしまう**ためボタンを押した瞬間ではなく、画面が表示された瞬間に関数が実行されてしまうからです。

そのため、ボタンなどのイベントハンドラに副作用を伴う関数を渡す際には、「**関数名だけ**」を渡すようにしましょう！
:::

# 3.属性(プロパティ)にJavaScriptを渡す

JSXのタグの属性(プロパティ)にJavaScriptの値を渡す場合も、波括弧`{}`を使用します。
例えば、`src`属性に変数を渡す場合は以下のようになります。

```ts
export default function Avatar() {
    const avatar = '/image.jpg';
    const description = 'text';
    return (
        <img
            className="avatar"
            src={avatar}
            alt={description}
        />
    );
}
```

:::message
`src="{}"`のように引用符`"`で囲んでしまうと、文字列として扱われてしまうため注意しましょう。
:::

また、スタイル属性にJavaScriptのオブジェクトを渡す場合も波括弧`{}`を使用します。(二十括弧`{{}}`になります)

```ts
export default function TodoList() {
    return (
        <ul style={{
            backgroundColor: 'black',
            color: 'pink'
        }}>
            <li>item1</li>
            <li>item2</li>
        </ul>
    );
}
```

もちろん、変数やオブジェクトを使用することもできるため、以下のように書くことも可能です。

```ts
const person = {
    name: 'Nyan Cat',
    theme: {
        backgroundColor: 'black',
        color: 'pink'
    }
};

export default function TodoList() {
    return (
        <div style={person.theme}>
            <h1>{person.name}'s Todos</h1>
            <img
                className="avatar"
                src="/image.jpg"
                alt="text"
            />
            <ul>
                <li>item1</li>
                <li>item2</li>
            </ul>
        </div>
    );
}
```

# 4.どこまで波括弧の中で書けるのか？
できることとして、先ほども説明した**変数**、**関数の呼び出し**の他、**参考演算子**、**数値計算**などが使えます。

逆に、`for`文や`if`文などの**ステートメント**は使えません。
ですので、JSXの外側に書くか、`map`や`参考演算子`を使って表現する必要があります。

# 5.まとめ
今回は、JSXの中でJavaScriptのオブジェクトやスタイルを扱う方法について解説しました。

**引用符`"`は静的**、**波括弧`{}`は動的**に値を扱えることを覚えておくと安心ですね！

# 6.参考
- [JSXに波括弧でJavaScriptを含める](https://ja.react.dev/learn/javascript-in-jsx-with-curly-braces)