---
title: "【React基礎】JSXのルールを正しく理解してエラーを防ぐ"
emoji: "🚫"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["React", "初心者", "フロントエンド"]
published: true
---
# 1.はじめに
JSXはJavaScriptの中でHTMLのようなマークアップを記述できる便利な拡張構文です。
（ReactとJSXは一緒に使われることが多いですが、**別物**です。）

HTMLとそっくりですが、JavaScriptとしてのルールが存在します。

これを守らないと、エラーが発生してしまいます。

今回は、JSXの基本的なルールを学び、エラーを防ぐ方法をお勉強します！

# 2.必ず1つのルートにまとめる
複数の要素をコンポーネントが返すとき、必ず`<div>`やフラグメントと呼ばれる`<>...</>`で**1つのルート要素にまとめる**必要があります。

`<div>`を使うとHTMLツリーに構造を増やしてしまいますが、フラグメント`<>...</>`を使うとHTMLツリーに影響を与えることなく複数の要素をまとめられます。

複数のコンポーネントをまとめなければいけない理由として、JSXはJavaScriptのオブジェクトに変換されて返されるため、関数が2つ以上のオブジェクトを一度に返すことができないのと同じように、JSXも複数の要素を一度に返すことができません。

```ts:NG例
export default function MyComponent() {
    return (
        <h1>こんにちは！</h1>
        <p>これはJSXのルールです。</p>
    );
}
```

```ts:OK例
export default function MyComponent() {
    return (
        <>
            <h1>こんにちは！</h1>
            <p>これはJSXのルールです。</p>
        </>
    );
}
```

# 3.すべてのタグをとじる
`<br>`や`<img>`などの**終了タグを持たない要素**は、必ずスラッシュ`/`で閉じる必要があります。

また、`<li>item`のような囲みタグはきちんと`<li>item</li>`のように閉じなければありません。

HTMLでは閉じる必要がなかったタグも、JSXでは閉じる必要があるため注意しましょう。

```ts:NG例
<>
    <img src="/image.jpg" alt="text">
    <br>
    <ul>
        <li>item1
        <li>item2
    </ul>
<>
```

```ts:OK例
<>
    <img src="/image.jpg" alt="text" />
    <br />
    <ul>
        <li>item1</li>
        <li>item2</li>
    </ul>
<>
```

# 4.属性は「キャメルケース」で
HTMLでは属性名がすべて小文字ですが（単語をつなぐ場合はハイフン）、JSXでは**キャメルケース**（単語の区切りを大文字にする）で記述します。

例として、`class`属性は`className`に、`stroke-width`属性は`strokeWidth`に変更する必要があります。

:::message
例外として、`aria-*`属性や`data-*`属性は、HTMLと同じくハイフン形式で記述します。
:::

# 5.JSXコンバータを使ってみる
JSXコンバータという、既存のHTMLをJSXに変換してくれるオンラインツールがあります。

大量のHTMLをJSXに変換したいときに便利です。
（ただし、**TypeScript**ではなく、**JavaScript**への変換ということには注意が必要です）

- [JSXコンバータ](https://magic.reactjs.net/htmltojsx.htm)

# 6.まとめ
JSXはHTMLと非常に似ていますが、JavaScriptの一部として動作するため、いくつかのルールを守る必要があります。

ですが、そのおかげでJavaScriptの変数やループ処理などをUIの中で使用する（UIとロジックを混ぜることができる）メリットを享受できます！

ただし、UIに関するロジックが複雑になると、コードの可読性が低下する可能性があるため、適切にコンポーネントを分割して管理することが重要です。

# 7.参考
- [JSXでマークアップを記述する](https://ja.react.dev/learn/writing-markup-with-jsx)